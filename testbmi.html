<!DOCTYPE html>
<!-- saved from url=(0052)https://shiroi.netlify.app/gallery/bubble-ring/dist/ -->
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>BMI测试</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            text-align: center;
        }

        .bmi {
            width: 400px;
            text-align: left;
            margin-left: 40%;
            margin-top: 100px;
        }
    </style>
</head>

<body>
    <div class="bmi">
        <h3>计算BMI(Body Mass Index)指数</h3>
        <p><input type="number" id='height' />米（m）</p>
        <p><input type="number" id='weight' />千克（kg）</p>
        <p><button onclick="TestBMI()">开始测试</button></p>
    </div>

    <script>
        function TestBMI() {
            let weight = parseInt(document.getElementById('weight').value);
            let height = parseFloat(document.getElementById('height').value);
            if (isNaN(weight) ||
                isNaN(height)) {
                alert('体重或身高格式错误！');
                return;
            }
            var val = ToDecimal((weight / Math.pow(height, 2)), 1);
            alert(`${GetBMIResult(val)}(${val})`);
        }

        //截断保留小数
        function ToDecimal(val, digit) {
            console.log('原值', val);
            str = val.toString();
            str = str.slice(0, (str.indexOf(".")) + digit + 1);
            return Number(str);
        }

        function GetBMIResult(val) {
            // 身体质量指数(BMI) < 18.5:低于正常体重 
            // 身体质量指数(BMI) >= 18.5 以及 < 25:正常体重 
            // 身体质量指数(BMI) >= 25 以及 < 30:超重 
            // 身体质量指数(BMI) >= 30 以及 < 35:一类肥胖 
            // 身体质量指数(BMI) >= 35 以及 < 40:二类肥胖 
            // 身体质量指数(BMI) >= 40:三类肥胖
            var texts = ['偏瘦', '正常', '肥胖', '一类肥胖', '二类肥胖', '三类肥胖'];

            if (val < 18.5) {
                return texts[0];
            } else if (val >= 18.5 && val < 25) {
                return texts[1];
            } else if (val >= 25 && val < 30) {
                return texts[2];
            } else if (val >= 35 && val < 40) {
                return texts[3];
            } else if (val >= 40) {
                return texts[4];
            }

            return '无';
        }
    </script>

</body>

</html>